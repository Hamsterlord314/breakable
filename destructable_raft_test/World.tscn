[gd_scene load_steps=11 format=2]

[ext_resource path="res://Sprites/icon.png" type="Texture" id=1]
[ext_resource path="res://Scripts/CannonDetector.gd" type="Script" id=2]
[ext_resource path="res://Sprites/Cannon-clipart-image-4.png" type="Texture" id=3]
[ext_resource path="res://Sprites/triangle-png-black-triangle-icon-512.png" type="Texture" id=4]
[ext_resource path="res://Scripts/Shooting.gd" type="Script" id=5]
[ext_resource path="res://Scripts/PiviotMovement.gd" type="Script" id=6]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 512.86, 32.1013 )

[sub_resource type="PackedScene" id=2]
_bundled = {
"conn_count": 0,
"conns": PoolIntArray(  ),
"editable_instances": [  ],
"names": PoolStringArray( "Cannon", "Position2D", "position", "Barrel", "RigidBody2D", "position", "__meta__", "Sprite", "Sprite", "scale", "texture", "CollisionPolygon2D", "CollisionPolygon2D", "position", "polygon", "Piviot", "RigidBody2D", "position", "__meta__", "Sprite", "Sprite", "scale", "texture", "CollisionPolygon2D", "CollisionPolygon2D", "position", "polygon", "PinJoint2D", "PinJoint2D", "position", "node_a", "node_b", "disable_collision" ),
"node_count": 8,
"node_paths": [ NodePath("."), NodePath("./Barrel"), NodePath("./Barrel"), NodePath("."), NodePath("./Piviot"), NodePath("./Piviot"), NodePath("./Piviot") ],
"nodes": PoolIntArray( -1, -1, 1, 0, -1, 1, 2, 0, 0, 1073741824, 0, 4, 3, -1, 2, 5, 1, 6, 2, 0, 1073741825, 0, 8, 7, -1, 2, 9, 3, 10, 4, 0, 1073741826, 0, 12, 11, -1, 2, 13, 5, 14, 6, 0, 1073741827, 0, 16, 15, -1, 2, 17, 7, 18, 8, 0, 1073741828, 0, 20, 19, -1, 2, 21, 9, 22, 10, 0, 1073741829, 0, 24, 23, -1, 2, 25, 11, 26, 12, 0, 1073741830, 0, 28, 27, -1, 4, 29, 13, 30, 14, 31, 15, 32, 16, 0 ),
"variants": [ Vector2( 395.862, 478.317 ), Vector2( -0.194199, -7.12898 ), {
"_edit_group_": true
}, Vector2( 0.170121, 0.142871 ), ExtResource( 3 ), Vector2( -881.781, -429.768 ), PoolVector2Array( 841.685, 423.206, 827.468, 435.332, 845.866, 444.112, 934.507, 425.297, 931.998, 412.335, 841.685, 423.206 ), Vector2( -0.194199, 11.981 ), {
"_edit_group_": true
}, Vector2( 0.138019, 0.0553194 ), ExtResource( 4 ), Vector2( -0.451874, -18.5267 ), PoolVector2Array( 0.681152, 6.60638, 35.6081, 31.3073, -34.8959, 30.6935 ), Vector2( -0.134033, -15.604 ), NodePath("../Piviot2/RigidBody2D"), NodePath("../Barrel2/RigidBody2D"), false ],
"version": 2
}

[sub_resource type="PackedScene" id=3]
_bundled = {
"conn_count": 0,
"conns": PoolIntArray(  ),
"editable_instances": [  ],
"names": PoolStringArray( "Cannon", "Position2D", "position", "__meta__", "Barrel", "KinematicBody2D", "position", "script", "__meta__", "Sprite", "Sprite", "scale", "texture", "CollisionPolygon2D", "CollisionPolygon2D", "position", "polygon", "Position2D", "Position2D", "position", "Piviot", "KinematicBody2D", "position", "script", "__meta__", "Sprite", "Sprite", "position", "scale", "texture", "CollisionPolygon2D", "CollisionPolygon2D", "position", "polygon", "Position2D", "Position2D", "position" ),
"node_count": 9,
"node_paths": [ NodePath("."), NodePath("./Barrel"), NodePath("./Barrel"), NodePath("./Barrel"), NodePath("."), NodePath("./Piviot"), NodePath("./Piviot"), NodePath("./Piviot") ],
"nodes": PoolIntArray( -1, -1, 1, 0, -1, 2, 2, 0, 3, 1, 0, 1073741824, 0, 5, 4, -1, 3, 6, 2, 7, 3, 8, 4, 0, 1073741825, 0, 10, 9, -1, 2, 11, 5, 12, 6, 0, 1073741826, 0, 14, 13, -1, 2, 15, 7, 16, 8, 0, 1073741827, 0, 18, 17, -1, 1, 19, 9, 0, 1073741828, 0, 21, 20, -1, 3, 22, 10, 23, 11, 24, 12, 0, 1073741829, 0, 26, 25, -1, 3, 27, 13, 28, 14, 29, 15, 0, 1073741830, 0, 31, 30, -1, 2, 32, 16, 33, 17, 0, 1073741831, 0, 35, 34, -1, 1, 36, 18, 0 ),
"variants": [ Vector2( 565.535, 468.737 ), {
"_edit_group_": true
}, Vector2( -0.198303, -7.30502 ), ExtResource( 5 ), {
"_edit_group_": true
}, Vector2( 0.170121, 0.142871 ), ExtResource( 3 ), Vector2( -881.956, -429.768 ), PoolVector2Array( 841.685, 423.206, 827.468, 435.332, 845.866, 444.112, 934.507, 425.297, 931.998, 412.335, 841.685, 423.206 ), Vector2( 62.3356, -13.7689 ), Vector2( -0.198303, -1.23303 ), ExtResource( 6 ), {
"_edit_group_": true
}, Vector2( 0.160339, 12.9279 ), Vector2( 0.138786, 0.0552132 ), ExtResource( 4 ), Vector2( -0.253672, -5.6464 ), PoolVector2Array( 0.681152, 6.60638, 35.1815, 30.9855, -34.8959, 30.6935 ), Vector2( 0.00891113, -6.05789 ) ],
"version": 2
}

[sub_resource type="RectangleShape2D" id=4]
extents = Vector2( 75.9079, 51.3012 )

[node name="World" type="Node"]

[node name="Floor" type="Node" parent="."]

[node name="StaticBody2D" type="StaticBody2D" parent="Floor"]
position = Vector2( 512.5, 539.922 )
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="Sprite" parent="Floor/StaticBody2D"]
position = Vector2( 1.52588e-005, 0 )
scale = Vector2( 15.9759, 1 )
texture = ExtResource( 1 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Floor/StaticBody2D"]
shape = SubResource( 1 )

[node name="CannonSlot" type="Node" parent="."]

[node name="CannonDetector" type="Area2D" parent="CannonSlot"]
position = Vector2( 338.119, 456.201 )
script = ExtResource( 2 )
spawnPositionPath = NodePath("../CannonDetector/Position2D")
ragCannon = SubResource( 2 )
inUseCannon = SubResource( 3 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="CannonSlot/CannonDetector"]
shape = SubResource( 4 )

[node name="Position2D" type="Position2D" parent="CannonSlot/CannonDetector"]
position = Vector2( 6.29868, 24.4659 )
[connection signal="body_entered" from="CannonSlot/CannonDetector" to="CannonSlot/CannonDetector" method="_on_Area2D_body_entered"]
[connection signal="body_exited" from="CannonSlot/CannonDetector" to="CannonSlot/CannonDetector" method="_on_Area2D_body_exited"]
